# 字母射击游戏项目规则

## 项目概述

这是一个基于HTML5 Canvas的打字练习游戏，玩家通过输入键盘上对应的字母来控制飞机发射子弹，击中从屏幕上方下落的字母。游戏具有儿童友好的界面设计，适合不同水平的打字用户练习使用。

## 主要文件结构

- `index.html` - 游戏主页面，包含游戏界面和控制元素
- `style.css` - 游戏样式，定义了界面的视觉效果
- `game.js` - 游戏核心逻辑，包含游戏引擎和所有交互功能
- `assets/` - 包含游戏使用的音效和资源文件
  - `shoot.mp3` - 射击音效
  - `hit.mp3` - 击中音效
  - `miss.mp3` - 错过音效

## 核心游戏机制

### 游戏对象

1. **飞机 (Plane)**:
   - 位于屏幕底部
   - 可以根据玩家输入的字母自动移动到对应字母下方
   - 发射与字母匹配的子弹

2. **字母 (Letters)**:
   - 从屏幕上方随机位置生成
   - 以可配置的速度向下移动
   - 支持大小写模式切换
   - 使用队列系统控制生成时间间隔

3. **子弹 (Bullets)**:
   - 飞机发射的子弹带有对应字母
   - 当子弹击中匹配的字母时，字母被消除并得分

### 游戏功能

1. **难度系统**:
   - 三个预设难度等级：简单、普通、困难
   - 适合不同打字水平的用户（新手、普通工作者、专业打字员）
   - 每个难度级别有独立的参数配置

2. **动态难度**:
   - 随着游戏时间推移，游戏难度会逐渐增加
   - 字母下落速度加快、生成频率提高、数量增加

3. **计时系统**:
   - 可选择不同游戏时长（30秒、60秒、90秒、120秒）
   - 游戏结束时显示最终得分

4. **字母生成队列**:
   - 使用队列系统控制字母生成，避免同时出现多个字母
   - 每个字母之间有时间间隔，让玩家有时间逐个处理

5. **音效系统**:
   - 为射击、击中和错过事件提供声音反馈

## 配置参数

### 难度参数

每个难度级别（简单、普通、困难）都有以下可配置参数：

1. **字母下落速度**:
   - initialLetterSpeed - 初始下落速度
   - maxLetterSpeed - 最大下落速度
   - speedIncreaseAmount - 每次难度提升增加的速度

2. **字母生成频率**:
   - initialSpawnRate - 初始生成时间间隔（毫秒）
   - minSpawnRate - 最小生成时间间隔（毫秒）
   - spawnRateDecreaseAmount - 每次难度提升减少的间隔时间

3. **字母数量**:
   - initialLettersPerSpawn - 初始每次加入队列的字母数量
   - maxLettersPerSpawn - 最大每次加入队列的字母数量
   - maxLettersOnScreen - 屏幕上最大字母数量

4. **难度提升**:
   - speedIncreaseInterval - 难度提升的时间间隔（秒）
   - letterGenerationDelay - 队列中字母生成的时间间隔（毫秒）

## 用户界面元素

1. **游戏画布**:
   - 中央的游戏区域，显示飞机、字母和子弹

2. **控制面板**:
   - 难度选择器（简单、普通、困难）
   - 大小写切换开关
   - 游戏时长选择器
   - 开始和重新开始按钮

3. **游戏信息**:
   - 分数显示
   - 剩余时间显示

## 代码组织

游戏使用面向对象的方法组织代码，主要类和组件包括：

1. **Game 类** - 游戏的主类，包含所有游戏逻辑
   - 初始化游戏对象和参数
   - 处理用户输入
   - 管理游戏循环和更新
   - 控制游戏难度和计时

2. **渲染系统** - 负责绘制游戏画面
   - 使用Canvas API绘制游戏元素
   - 处理飞机的动画效果
   - 渲染字母、子弹和游戏结束画面

3. **字母生成系统** - 控制字母的生成和下落
   - 使用队列系统分散字母生成时间
   - 确保字母位置不重叠
   - 管理字母数量和下落速度

4. **碰撞检测系统** - 检测子弹和字母的碰撞
   - 当子弹击中匹配字母时增加得分
   - 移除已击中的字母和子弹

## 开发准则

1. **性能优化**:
   - 使用requestAnimationFrame实现游戏循环
   - 优化数组操作，避免不必要的内存分配

2. **可扩展性**:
   - 使用参数化配置允许轻松调整游戏难度
   - 模块化代码结构便于添加新功能

3. **用户体验**:
   - 儿童友好的界面设计
   - 清晰的视觉和声音反馈
   - 平滑的动画和过渡

4. **兼容性**:
   - 使用标准的HTML5和ES6特性
   - 支持现代浏览器

## 项目目标

1. 创建一个有趣且教育性的打字练习游戏
2. 适合各种年龄和技能水平的用户
3. 提供平滑、响应迅速的游戏体验
4. 使用清晰的儿童友好设计
5. 通过游戏化元素激励用户提高打字技能 